# üè≠ –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–∫–ª–∞–¥–∞

–ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∫–ª–∞–¥—Å–∫–∏–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∏–º–ø–æ—Ä—Ç–æ–º –∏–∑ snab-lift.ru

## üì¶ –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ:

- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite** ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî —É–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
- ‚úÖ **–ò–º–ø–æ—Ä—Ç –∏–∑ snab-lift.ru** ‚Äî –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É –∏–ª–∏ URL
- ‚úÖ **–ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ **HTML –∫–∞—Ä—Ç–æ—á–∫–∏** ‚Äî –¥–ª—è –ø–µ—á–∞—Ç–∏ —ç—Ç–∏–∫–µ—Ç–æ–∫
- ‚úÖ **–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã** ‚Äî –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ç–æ–≤–∞—Ä–∞–º
- ‚úÖ **–°–∫–ª–∞–¥—Å–∫–æ–π —É—á–µ—Ç** ‚Äî –∑–æ–Ω—ã, —Å—Ç–µ–ª–ª–∞–∂–∏, –ø–æ–ª–∫–∏, —è—á–µ–π–∫–∏
- ‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å –æ—Å—Ç–∞—Ç–∫–æ–≤** ‚Äî –º–∏–Ω/–º–∞–∫—Å, —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

```bash
source venv/bin/activate
python warehouse_system.py
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: **http://localhost:5000**

### 2. –ò–º–ø–æ—Ä—Ç –ø–µ—Ä–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

```bash
# –ü–æ –∞—Ä—Ç–∏–∫—É–ª—É
python import_product.py 2498

# –ü–æ URL
python import_product.py "https://snab-lift.ru/catalog/.../product.html"
```

### 3. –û—Ç–∫—Ä—ã—Ç–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

```bash
open http://localhost:5000
```

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéØ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (http://localhost:5000)

**–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:**
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∫–ª–∞–¥–∞ (–≤—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤, –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è, –Ω–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏)
- üîç –ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É, –Ω–∞–∑–≤–∞–Ω–∏—é, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—é
- üì¶ –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- ‚ûï –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤ —Å snab-lift.ru
- üì• –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç —Å–ø–∏—Å–∫–∞
- üì§ –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON
- ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫–ª–∞–¥—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- üìÑ –ü–µ—á–∞—Ç—å –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–æ–≤–∞—Ä–æ–≤

**–ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ (/card/ARTICLE):**
- üñºÔ∏è –ì–∞–ª–µ—Ä–µ—è —Ñ–æ—Ç–æ
- üí∞ –¶–µ–Ω–∞ –∏ —Å—Ç–∞—Ç—É—Å
- üìç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ (–∑–æ–Ω–∞-—Å—Ç–µ–ª–ª–∞–∂-–ø–æ–ª–∫–∞-—è—á–µ–π–∫–∞)
- üì¶ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (—Ñ–∞–∫—Ç/—Ä–µ–∑–µ—Ä–≤/–¥–æ—Å—Ç—É–ø–Ω–æ)
- üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- üìù –û–ø–∏—Å–∞–Ω–∏–µ
- üè∑Ô∏è –≠—Ç–∏–∫–µ—Ç–∫–∞ –¥–ª—è –ø–µ—á–∞—Ç–∏
- üñ®Ô∏è –ö–Ω–æ–ø–∫–∞ –ø–µ—á–∞—Ç–∏

### üîå API Endpoints

```
GET  /api/products              # –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
GET  /api/products/<article>    # –û–¥–∏–Ω —Ç–æ–≤–∞—Ä
POST /api/products              # –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
PUT  /api/products/<article>/stock  # –û–±–Ω–æ–≤–∏—Ç—å —Å–∫–ª–∞–¥
DELETE /api/products/<article>  # –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä
GET  /api/products/search?q=... # –ü–æ–∏—Å–∫
GET  /api/stats                 # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
POST /api/import/snablift       # –ò–º–ø–æ—Ä—Ç —Å —Å–∞–π—Ç–∞
POST /api/import/batch          # –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç
GET  /api/export/json           # –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON
GET  /card/<article>            # HTML –∫–∞—Ä—Ç–æ—á–∫–∞
```

### üíª –ü—Ä–∏–º–µ—Ä—ã API

```bash
# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
curl http://localhost:5000/api/products

# –ü–æ–∏—Å–∫
curl "http://localhost:5000/api/products/search?q=2498"

# –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–∞
curl -X POST http://localhost:5000/api/import/snablift \
  -H "Content-Type: application/json" \
  -d '{"query":"2498"}'

# –û–±–Ω–æ–≤–∏—Ç—å —Å–∫–ª–∞–¥
curl -X PUT http://localhost:5000/api/products/2498/stock \
  -H "Content-Type: application/json" \
  -d '{
    "zone": "A",
    "rack": "12", 
    "shelf": "3",
    "cell": "45",
    "quantity_actual": 50,
    "quantity_reserved": 10
  }'
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã:

1. **products** ‚Äî —Ç–æ–≤–∞—Ä—ã
   - id, article, title, manufacturer, category
   - price, description, url, weight, dimensions
   - specifications (JSON), created_at, updated_at

2. **warehouse_stock** ‚Äî —Å–∫–ª–∞–¥—Å–∫–∏–µ –æ—Å—Ç–∞—Ç–∫–∏
   - product_id, zone, rack, shelf, cell
   - quantity_actual, quantity_reserved
   - quantity_min, quantity_max
   - notes, last_counted

3. **product_images** ‚Äî –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - product_id, image_url, is_main

4. **stock_movements** ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
   - product_id, movement_type, quantity
   - reason, user_name, created_at

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ò–º–ø–æ—Ä—Ç –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

```bash
python import_product.py 2498
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```
======================================================================
üì¶ –ò–ú–ü–û–†–¢ –¢–û–í–ê–†–ê: 2498
======================================================================

üîç –ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É: 2498
üìÑ –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã...

‚úÖ –¢–û–í–ê–† –£–°–ü–ï–®–ù–û –ò–ú–ü–û–†–¢–ò–†–û–í–ê–ù
   –ê—Ä—Ç–∏–∫—É–ª: 2498
   –ù–∞–∑–≤–∞–Ω–∏–µ: –ü—Ä–µ—Ä—ã–≤–∞—Ç–µ–ª—å (–¥–∏—Å–∫) D=40–º–º d=10–º–º –®–ü–ñ–ò7.079.000 –ú–õ–ó
   –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å: –ú–õ–ó
   –¶–µ–Ω–∞: 26 ‚ÇΩ
   –§–æ—Ç–æ: 6 —à—Ç.
   ID –≤ –±–∞–∑–µ: 1
```

### 2. –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `items.txt`:
```
2498
768
661
4115
https://snab-lift.ru/catalog/.../product1.html
https://snab-lift.ru/catalog/.../product2.html
```

–ó–∞–ø—É—Å—Ç–∏:
```bash
# –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
# 1. –û—Ç–∫—Ä–æ–π http://localhost:5000
# 2. –ù–∞–∂–º–∏ "üì• –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç"
# 3. –í—Å—Ç–∞–≤—å —Å–ø–∏—Å–æ–∫
# 4. –ù–∞–∂–º–∏ "üöÄ –ù–∞—á–∞—Ç—å –∏–º–ø–æ—Ä—Ç"

# –ò–ª–∏ —á–µ—Ä–µ–∑ API:
curl -X POST http://localhost:5000/api/import/batch \
  -H "Content-Type: application/json" \
  -d '{"items": ["2498", "768", "661"]}'
```

### 3. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫–ª–∞–¥–∞

–ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
1. –ù–∞–π–¥–∏ —Ç–æ–≤–∞—Ä –≤ —Å–ø–∏—Å–∫–µ
2. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É ‚úèÔ∏è (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)
3. –ó–∞–ø–æ–ª–Ω–∏ –ø–æ–ª—è:
   - –ó–æ–Ω–∞: A
   - –°—Ç–µ–ª–ª–∞–∂: 12
   - –ü–æ–ª–∫–∞: 3
   - –Ø—á–µ–π–∫–∞: 45
   - –§–∞–∫—Ç–∏—á–µ—Å–∫–∏: 50
   - –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ: 10
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫: 5
4. –ù–∞–∂–º–∏ "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

### 4. –ü–µ—á–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏

1. –í —Å–ø–∏—Å–∫–µ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞–∂–º–∏ üìÑ (–∫–∞—Ä—Ç–æ—á–∫–∞)
2. –ò–ª–∏ –æ—Ç–∫—Ä–æ–π: http://localhost:5000/card/2498
3. –ù–∞–∂–º–∏ "üñ®Ô∏è –ü–µ—á–∞—Ç—å"

### 5. –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

```bash
# –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
# –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "üì§ –≠–∫—Å–ø–æ—Ä—Ç JSON"

# –ò–ª–∏ —á–µ—Ä–µ–∑ API
curl http://localhost:5000/api/export/json -o export.json
```

## üìÅ –§–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã

```
warehouse_system.py           # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª (–∑–∞–ø—É—Å–∫)
warehouse_db.py              # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
import_product.py            # –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤
warehouse_card.py            # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫
warehouse/                   # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π
‚îú‚îÄ‚îÄ warehouse.db            # –§–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö SQLite
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îú‚îÄ‚îÄ warehouse_dashboard.html  # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îî‚îÄ‚îÄ product_card.html         # –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞
‚îî‚îÄ‚îÄ static/                 # CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞:

–í `warehouse_system.py`:
```python
app.run(debug=True, host='0.0.0.0', port=8080)  # –ü–æ—Ä—Ç 8080
```

### –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫:

–°–æ–∑–¥–∞–π `start.sh`:
```bash
#!/bin/bash
cd /path/to/warehouse
source venv/bin/activate
python warehouse_system.py
```

–°–¥–µ–ª–∞–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
```bash
chmod +x start.sh
./start.sh
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:

```bash
# –°–∫–æ–ø–∏—Ä—É–π —Ñ–∞–π–ª –±–∞–∑—ã
cp warehouse.db "backup_$(date +%Y%m%d_%H%M%S).db"
```

## üí° –°–æ–≤–µ—Ç—ã

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π –±—ç–∫–∞–ø—ã** –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. **–ò—Å–ø–æ–ª—å–∑—É–π –º–∏–Ω/–º–∞–∫—Å –æ—Å—Ç–∞—Ç–∫–∏** –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∑–∞–ø–∞—Å–æ–≤
3. **–†–µ–∑–µ—Ä–≤–∏—Ä—É–π —Ç–æ–≤–∞—Ä—ã** –ø–æ–¥ –∑–∞–∫–∞–∑—ã
4. **–ü–µ—á–∞—Ç–∞–π –∫–∞—Ä—Ç–æ—á–∫–∏** –¥–ª—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ —Å–∫–ª–∞–¥–∞
5. **–û–±–Ω–æ–≤–ª—è–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ** –ø—Ä–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "No such table"

```bash
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –±–∞–∑—É
python -c "
from warehouse_system import app, db
with app.app_context():
    db.create_all()
    print('–ë–∞–∑–∞ —Å–æ–∑–¥–∞–Ω–∞')
"
```

### –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
# –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ç–æ–≤–∞—Ä —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ snab-lift.ru
# –ü–æ–ø—Ä–æ–±—É–π –∏–º–ø–æ—Ä—Ç –ø–æ URL –≤–º–µ—Å—Ç–æ –∞—Ä—Ç–∏–∫—É–ª–∞
```

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç

```bash
# –ù–∞–π–¥–∏ –ø—Ä–æ—Ü–µ—Å—Å
lsof -i :5000
kill -9 <PID>

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç
python warehouse_system.py  # –∏–∑–º–µ–Ω–∏ –≤ –∫–æ–¥–µ
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã:
1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
2. –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
3. –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–°–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–∫–ª–∞–¥—Å–∫–æ–≥–æ —É—á–µ—Ç–∞.
