<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üì¶ –°–∫–ª–∞–¥—Å–∫–æ–π —É—á–µ—Ç</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        /* –®–∞–ø–∫–∞ */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .header p {
            opacity: 0.9;
        }
        
        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.15);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            backdrop-filter: blur(10px);
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
        }
        
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.95em;
            opacity: 0.9;
        }
        
        .stat-card.warning {
            background: rgba(255,193,7,0.3);
        }
        
        .stat-card.danger {
            background: rgba(220,53,69,0.3);
        }
        
        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 30px;
        }
        
        /* –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
        .control-panel {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }
        
        .control-row {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .control-row:last-child {
            margin-bottom: 0;
        }
        
        .search-box {
            flex: 1;
            min-width: 300px;
            position: relative;
        }
        
        .search-box input {
            width: 100%;
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .search-box input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: #f8f9fa;
            color: #333;
            border: 2px solid #e0e0e0;
        }
        
        .btn-secondary:hover {
            background: #e9ecef;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .filter-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .filter-group label {
            font-weight: 600;
            color: #555;
        }
        
        .filter-group select {
            padding: 10px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            background: white;
        }
        
        .filter-group select#manufacturerFilter {
            max-width: 200px;
        }
        
        /* –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ */
        .products-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            overflow: hidden;
        }
        
        .products-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .products-table th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #555;
            border-bottom: 2px solid #e0e0e0;
            white-space: nowrap;
        }
        
        .products-table td {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
            vertical-align: middle;
        }
        
        .products-table tr:hover {
            background: #f8f9fa;
        }
        
        .product-image {
            width: 100px;
            height: 100px;
            object-fit: cover;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }

        .no-image {
            width: 100px;
            height: 100px;
            background: #f0f0f0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 32px;
        }
        
        .article-link {
            color: #667eea;
            font-weight: 600;
            text-decoration: none;
        }
        
        .article-link:hover {
            text-decoration: underline;
        }
        
        .product-title {
            max-width: 300px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }
        
        .location-cell {
            font-family: 'Courier New', monospace;
            background: #f8f9fa;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
            display: inline-block;
        }
        
        .stock-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }
        
        .stock-normal {
            background: #d4edda;
            color: #155724;
        }
        
        .stock-low {
            background: #fff3cd;
            color: #856404;
        }
        
        .stock-out {
            background: #f8d7da;
            color: #721c24;
        }
        
        .quantity-value {
            font-weight: 600;
            font-size: 1.1em;
        }
        
        .actions {
            display: flex;
            gap: 8px;
            flex-wrap: nowrap;
        }
        
        .btn-small {
            padding: 8px 12px;
            font-size: 12px;
        }
        
        /* –ü–∞–≥–∏–Ω–∞—Ü–∏—è */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            padding: 20px;
            background: #f8f9fa;
        }
        
        .pagination button {
            padding: 10px 20px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .pagination button:hover:not(:disabled) {
            border-color: #667eea;
            color: #667eea;
        }
        
        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .pagination-info {
            color: #666;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 12px;
            width: 100%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h2 {
            font-size: 1.5em;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }
        
        .close-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .modal-body {
            padding: 25px;
        }
        
        .form-section {
            margin-bottom: 25px;
        }
        
        .form-section h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.2em;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        
        .form-group label {
            font-weight: 600;
            color: #555;
            font-size: 0.95em;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            padding: 10px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        .modal-footer {
            padding: 20px 25px;
            background: #f8f9fa;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        /* –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }
        
        .empty-state-icon {
            font-size: 5em;
            margin-bottom: 20px;
        }
        
        .empty-state h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
        }
        
        /* –ò–º–ø–æ—Ä—Ç —Å—Ç–∞—Ç—É—Å */
        .import-status {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }
        
        .import-status.active {
            display: block;
        }
        
        .import-status.success {
            background: #d4edda;
            color: #155724;
        }
        
        .import-status.error {
            background: #f8d7da;
            color: #721c24;
        }
        
        .import-progress {
            margin-top: 10px;
        }
        
        .progress-bar {
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1024px) {
            .products-table {
                font-size: 14px;
            }
            
            .products-table th,
            .products-table td {
                padding: 10px;
            }
            
            .product-title {
                max-width: 200px;
            }
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5em;
            }
            
            .control-row {
                flex-direction: column;
            }
            
            .search-box {
                min-width: 100%;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .products-container {
                overflow-x: auto;
            }
            
            .products-table {
                min-width: 800px;
            }
        }
        
        /* –õ–æ–∞–¥–µ—Ä */
        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <div class="header">
        <h1>üì¶ –°–∫–ª–∞–¥—Å–∫–æ–π —É—á–µ—Ç</h1>
        <p>–õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</p>
        
        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-value" id="statTotal">0</div>
                <div class="stat-label">–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="statItems">0</div>
                <div class="stat-label">–ï–¥–∏–Ω–∏—Ü –Ω–∞ —Å–∫–ª–∞–¥–µ</div>
            </div>
            <div class="stat-card warning">
                <div class="stat-value" id="statLow">0</div>
                <div class="stat-label">–ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è</div>
            </div>
            <div class="stat-card danger">
                <div class="stat-value" id="statOut">0</div>
                <div class="stat-label">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</div>
            </div>
        </div>
    </div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container">
        <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div class="control-panel">
            <div class="control-row">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="üîç –û–±—ã—á–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É, –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—é..." onkeyup="handleSearch(event)">
                </div>
                <button class="btn btn-success" onclick="showImportModal()">
                    ‚ûï –ò–º–ø–æ—Ä—Ç —Å snab-lift.ru
                </button>
                <button class="btn btn-primary" onclick="showBatchImportModal()">
                    üì• –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç
                </button>
            </div>
            
            <!-- ü§ñ –ò–ò-–ø–æ–∏—Å–∫ -->
            <div class="control-row" style="background: linear-gradient(135deg, #667eea20 0%, #764ba220 100%); padding: 15px; border-radius: 8px; border: 2px dashed #667eea;">
                <div class="search-box" style="flex: 1;">
                    <input type="text" id="aiSearchInput" placeholder="ü§ñ –ò–ò-–ø–æ–∏—Å–∫: –Ω–∞–ø–∏—à–∏ —á—Ç–æ –Ω—É–∂–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä: '–∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –≤—ã–∑–æ–≤–∞ –ª–∏—Ñ—Ç–∞')..." style="border-color: #667eea;">
                </div>
                <button class="btn" onclick="performAISearch()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                    ü§ñ –ò–ò –ù–∞–π—Ç–∏
                </button>
            </div>
            
            <div class="control-row">
                <div class="filter-group">
                    <label>–ó–æ–Ω–∞:</label>
                    <select id="zoneFilter" onchange="applyFilters()">
                        <option value="">–í—Å–µ –∑–æ–Ω—ã</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å:</label>
                    <select id="manufacturerFilter" onchange="applyFilters()">
                        <option value="">–í—Å–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>–°—Ç–∞—Ç—É—Å:</label>
                    <select id="stockFilter" onchange="applyFilters()">
                        <option value="">–õ—é–±–æ–π —Å—Ç–∞—Ç—É—Å</option>
                        <option value="low">‚ö†Ô∏è –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è</option>
                        <option value="out">‚ùå –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</option>
                    </select>
                </div>
                <button class="btn btn-secondary" onclick="loadProducts()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="exportData()">üì§ –≠–∫—Å–ø–æ—Ä—Ç JSON</button>
            </div>
        </div>
        
        <!-- –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
        <div class="products-container">
            <table class="products-table">
                <thead>
                    <tr>
                        <th>–§–æ—Ç–æ</th>
                        <th>–ê—Ä—Ç–∏–∫—É–ª</th>
                        <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                        <th>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å</th>
                        <th>–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</th>
                        <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>
                        <th>–°—Ç–∞—Ç—É—Å</th>
                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody id="productsTableBody">
                    <tr>
                        <td colspan="8" class="empty-state">
                            <div class="empty-state-icon">üì¶</div>
                            <h3>–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤...</h3>
                        </td>
                    </tr>
                </tbody>
            </table>
            
            <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
            <div class="pagination" id="pagination" style="display: none;">
                <button id="prevBtn" onclick="changePage(-1)">‚Üê –ù–∞–∑–∞–¥</button>
                <span class="pagination-info">
                    –°—Ç—Ä–∞–Ω–∏—Ü–∞ <span id="currentPage">1</span> –∏–∑ <span id="totalPages">1</span>
                    (–≤—Å–µ–≥–æ: <span id="totalItems">0</span>)
                </span>
                <button id="nextBtn" onclick="changePage(1)">–í–ø–µ—Ä–µ–¥ ‚Üí</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–º–ø–æ—Ä—Ç–∞ -->
    <div class="modal" id="importModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚ûï –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–∞</h2>
                <button class="close-btn" onclick="closeImportModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group full-width">
                    <label>–ê—Ä—Ç–∏–∫—É–ª –∏–ª–∏ URL —Ç–æ–≤–∞—Ä–∞ —Å snab-lift.ru</label>
                    <input type="text" id="importQuery" placeholder="2498 –∏–ª–∏ https://snab-lift.ru/catalog/...">
                </div>
                <div class="import-status" id="importStatus"></div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeImportModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-success" onclick="importProduct()">üöÄ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –º–∞—Å—Å–æ–≤–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ -->
    <div class="modal" id="batchImportModal">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2>üì• –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç</h2>
                <button class="close-btn" onclick="closeBatchImportModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group full-width">
                    <label>–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ (–∞—Ä—Ç–∏–∫—É–ª—ã –∏–ª–∏ URL, –ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ —Å—Ç—Ä–æ–∫—É)</label>
                    <textarea id="batchImportList" rows="10" placeholder="2498
768
https://snab-lift.ru/catalog/.../product.html
..."></textarea>
                </div>
                <div class="import-status" id="batchImportStatus"></div>
                <div class="import-progress" id="batchImportProgress" style="display: none;">
                    <div>–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: <span id="progressCurrent">0</span> / <span id="progressTotal">0</span></div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeBatchImportModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-success" onclick="batchImport()">üöÄ –ù–∞—á–∞—Ç—å –∏–º–ø–æ—Ä—Ç</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div class="modal" id="editModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä</h2>
                <button class="close-btn" onclick="closeEditModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-section">
                    <h3>üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–ê—Ä—Ç–∏–∫—É–ª</label>
                            <input type="text" id="editArticle" readonly>
                        </div>
                        <div class="form-group">
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                            <input type="text" id="editTitle" readonly>
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>üìç –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Å–∫–ª–∞–¥–µ</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–ó–æ–Ω–∞</label>
                            <input type="text" id="editZone" placeholder="A, B, C...">
                        </div>
                        <div class="form-group">
                            <label>–°—Ç–µ–ª–ª–∞–∂</label>
                            <input type="text" id="editRack" placeholder="12, ST-05...">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–ü–æ–ª–∫–∞</label>
                            <input type="text" id="editShelf" placeholder="3, B...">
                        </div>
                        <div class="form-group">
                            <label>–Ø—á–µ–π–∫–∞</label>
                            <input type="text" id="editCell" placeholder="45, 7-A...">
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>üì¶ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–§–∞–∫—Ç–∏—á–µ—Å–∫–∏</label>
                            <input type="number" id="editActual" min="0">
                        </div>
                        <div class="form-group">
                            <label>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫</label>
                            <input type="number" id="editMin" min="0" placeholder="0">
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>üìù –ó–∞–º–µ—Ç–∫–∏</h3>
                    <div class="form-group full-width">
                        <textarea id="editNotes" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è..."></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeEditModal()">–û—Ç–º–µ–Ω–∞</button>
                <button class="btn btn-primary" onclick="saveProduct()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script>
        // ========== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==========
        let currentPage = 1;
        let totalPages = 1;
        let currentProduct = null;
        
        // ========== –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–• ==========
        async function loadStats() {
            try {
                const response = await fetch('/api/stats');
                const data = await response.json();
                
                if (data.success) {
                    document.getElementById('statTotal').textContent = data.total_products;
                    document.getElementById('statLow').textContent = data.low_stock;
                    document.getElementById('statOut').textContent = data.out_of_stock;
                    document.getElementById('statItems').textContent = data.total_items;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ–∏–ª—å—Ç—Ä –∑–æ–Ω
                    const zoneFilter = document.getElementById('zoneFilter');
                    const currentZoneValue = zoneFilter.value;
                    zoneFilter.innerHTML = '<option value="">–í—Å–µ –∑–æ–Ω—ã</option>';
                    data.zones.forEach(zone => {
                        if (zone) {
                            const option = document.createElement('option');
                            option.value = zone;
                            option.textContent = zone;
                            zoneFilter.appendChild(option);
                        }
                    });
                    zoneFilter.value = currentZoneValue;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ–∏–ª—å—Ç—Ä –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π
                    const manufacturerFilter = document.getElementById('manufacturerFilter');
                    const currentManufValue = manufacturerFilter.value;
                    manufacturerFilter.innerHTML = '<option value="">–í—Å–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏</option>';
                    data.manufacturers.forEach(manufacturer => {
                        if (manufacturer) {
                            const option = document.createElement('option');
                            option.value = manufacturer;
                            option.textContent = manufacturer;
                            manufacturerFilter.appendChild(option);
                        }
                    });
                    manufacturerFilter.value = currentManufValue;
                }
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', e);
            }
        }
        
        async function loadProducts() {
            try {
                const tbody = document.getElementById('productsTableBody');
                tbody.innerHTML = `
                    <tr>
                        <td colspan="10" class="empty-state">
                            <div class="loader"></div>
                            <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤...</p>
                        </td>
                    </tr>
                `;
                
                // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
                const params = new URLSearchParams();
                params.append('page', currentPage);
                
                const search = document.getElementById('searchInput').value.trim();
                if (search) {
                    params.append('search', search);
                }
                
                const zone = document.getElementById('zoneFilter').value;
                if (zone) {
                    params.append('zone', zone);
                }
                
                const manufacturer = document.getElementById('manufacturerFilter').value;
                if (manufacturer) {
                    params.append('manufacturer', manufacturer);
                }
                
                const stockFilter = document.getElementById('stockFilter').value;
                if (stockFilter === 'low') {
                    params.append('low_stock', 'true');
                }
                
                const response = await fetch(`/api/products?${params.toString()}`);
                const data = await response.json();
                
                if (data.success) {
                    renderProducts(data.items);
                    totalPages = data.pages;
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø–∞–≥–∏–Ω–∞—Ü–∏—é
                    document.getElementById('currentPage').textContent = data.current_page;
                    document.getElementById('totalPages').textContent = data.pages;
                    document.getElementById('totalItems').textContent = data.total;
                    document.getElementById('pagination').style.display = data.total > 0 ? 'flex' : 'none';
                    document.getElementById('prevBtn').disabled = !data.has_prev;
                    document.getElementById('nextBtn').disabled = !data.has_next;
                    
                    loadStats();
                } else {
                    throw new Error(data.error);
                }
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', e);
                document.getElementById('productsTableBody').innerHTML = `
                    <tr>
                        <td colspan="10" class="empty-state">
                            <div class="empty-state-icon">‚ö†Ô∏è</div>
                            <h3>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</h3>
                            <p>${e.message}</p>
                            <button class="btn btn-primary" onclick="loadProducts()" style="margin-top: 15px;">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                        </td>
                    </tr>
                `;
            }
        }
        
        function renderProducts(products) {
            const tbody = document.getElementById('productsTableBody');
            
            if (products.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="10" class="empty-state">
                            <div class="empty-state-icon">üì¶</div>
                            <h3>–ù–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤</h3>
                            <p>–ù–∞—á–Ω–∏—Ç–µ —Å –∏–º–ø–æ—Ä—Ç–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å snab-lift.ru</p>
                            <button class="btn btn-success" onclick="showImportModal()" style="margin-top: 15px;">
                                ‚ûï –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä
                            </button>
                        </td>
                    </tr>
                `;
                return;
            }
            
            tbody.innerHTML = products.map(p => {
                const stock = p.stock || {};
                const actual = stock.quantity_actual || 0;
                const minStock = stock.quantity_min || 0;
                
                // –ï—Å–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º 5 –∫–∞–∫ –¥–µ—Ñ–æ–ª—Ç
                const effectiveMin = minStock > 0 ? minStock : 5;
                
                let statusClass = 'stock-normal';
                let statusText = '‚úÖ –í –Ω–∞–ª–∏—á–∏–∏';
                
                if (actual <= 0) {
                    statusClass = 'stock-out';
                    statusText = '‚ùå –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏';
                } else if (actual < effectiveMin) {
                    statusClass = 'stock-low';
                    statusText = '‚ö†Ô∏è –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è';
                }
                
                const location = stock.location && stock.location !== '---' ? stock.location : '‚Äî';
                
                return `
                    <tr>
                        <td>
                            ${p.images && p.images.length > 0 
                                ? `<img src="${p.images[0]}" class="product-image" alt="" onerror="this.parentElement.innerHTML='<div class=no-image>üì∑</div>'">`
                                : '<div class="no-image">üì∑</div>'
                            }
                        </td>
                        <td>
                            <a href="/card/${p.article}" target="_blank" class="article-link">${p.article}</a>
                        </td>
                        <td>
                            <div class="product-title" title="${p.title}">${p.title}</div>
                        </td>
                        <td>${p.manufacturer || '‚Äî'}</td>
                        <td>
                            <span class="location-cell">${location}</span>
                        </td>
                        <td class="quantity-value">${actual}</td>
                        <td>
                            <span class="stock-badge ${statusClass}">${statusText}</span>
                        </td>
                        <td>
                            <div class="actions">
                                <button class="btn btn-primary btn-small" onclick="editProduct('${p.article}')" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">‚úèÔ∏è</button>
                                <a href="/card/${p.article}" target="_blank" class="btn btn-secondary btn-small" title="–ö–∞—Ä—Ç–æ—á–∫–∞">üìÑ</a>
                                <button class="btn btn-danger btn-small" onclick="deleteProduct('${p.article}')" title="–£–¥–∞–ª–∏—Ç—å">üóëÔ∏è</button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }
        
        // ========== –ü–û–ò–°–ö –ò –§–ò–õ–¨–¢–†–´ ==========
        function handleSearch(event) {
            if (event.key === 'Enter') {
                currentPage = 1;
                loadProducts();
            }
        }
        
        function applyFilters() {
            currentPage = 1;
            loadProducts();
        }
        
        function changePage(delta) {
            const newPage = currentPage + delta;
            if (newPage >= 1 && newPage <= totalPages) {
                currentPage = newPage;
                loadProducts();
            }
        }
        
        // ========== –ò–ò-–ü–û–ò–°–ö ==========
        async function performAISearch() {
            const query = document.getElementById('aiSearchInput').value.trim();
            if (!query) {
                alert('–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ò–ò-–ø–æ–∏—Å–∫–∞');
                return;
            }
            
            const btn = document.querySelector('button[onclick="performAISearch()"]');
            const originalText = btn.innerHTML;
            btn.innerHTML = '‚è≥ –î—É–º–∞—é...';
            btn.disabled = true;
            
            try {
                const response = await fetch('/api/ai-search', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({query: query})
                });
                
                const data = await response.json();
                
                if (data.success) {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
                    showAIResult(query, data.answer, data.cost);
                } else {
                    alert('–û—à–∏–±–∫–∞: ' + data.error);
                }
            } catch (e) {
                alert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: ' + e.message);
            } finally {
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }
        
        function showAIResult(query, answer, cost) {
            // –°–æ–∑–¥–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            const modal = document.createElement('div');
            modal.className = 'modal active';
            modal.innerHTML = `
                <div class="modal-content" style="max-width: 600px;">
                    <div class="modal-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <h2>ü§ñ –†–µ–∑—É–ª—å—Ç–∞—Ç –ò–ò-–ø–æ–∏—Å–∫–∞</h2>
                        <button class="close-btn" onclick="this.closest('.modal').remove()">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div style="margin-bottom: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px;">
                            <strong>üîç –ó–∞–ø—Ä–æ—Å:</strong> ${query}
                        </div>
                        <div style="white-space: pre-wrap; line-height: 1.6;">${answer}</div>
                        <div style="margin-top: 15px; text-align: right; color: #666; font-size: 0.9em;">
                            üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å: $${cost}
                        </div>
                    </div>
                    <div class="modal-footer" style="display: flex; justify-content: space-between;">
                        <button class="btn" onclick="speakText('${answer.replace(/'/g, "\\'").replace(/"/g, '"').replace(/\n/g, ' ')}')" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                            üîä –û–∑–≤—É—á–∏—Ç—å
                        </button>
                        <button class="btn btn-secondary" onclick="this.closest('.modal').remove()">–ó–∞–∫—Ä—ã—Ç—å</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        // ========== –û–ó–í–£–ß–ö–ê ==========
        function speakText(text) {
            // –û—á–∏—â–∞–µ–º —Ç–µ–∫—Å—Ç –æ—Ç –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤
            const cleanText = text
                .replace(/üí∞[^]*$/, '') // –£–±–∏—Ä–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å
                .replace(/[üí∞üîç‚úÖ‚ùå‚ö†Ô∏èüì¶üè∑Ô∏èüìùüìçüìäüìÅ‚öñÔ∏è]/g, '') // –£–±–∏—Ä–∞–µ–º —ç–º–æ–¥–∑–∏
                .replace(/[#*‚Ä¢]/g, '')
                .substring(0, 500); // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É Web Speech API
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(cleanText);
                utterance.lang = 'ru-RU';
                utterance.rate = 1;
                window.speechSynthesis.speak(utterance);
            } else {
                // Fallback: –≤—ã–∑—ã–≤–∞–µ–º backend –æ–∑–≤—É—á–∫—É
                fetch('/api/speak', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({text: cleanText})
                }).catch(e => console.log('–û–∑–≤—É—á–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞'));
            }
        }
        
        // ========== –ò–ú–ü–û–†–¢ ==========
        function showImportModal() {
            document.getElementById('importModal').classList.add('active');
            document.getElementById('importQuery').value = '';
            hideImportStatus();
            setTimeout(() => document.getElementById('importQuery').focus(), 100);
        }
        
        function closeImportModal() {
            document.getElementById('importModal').classList.remove('active');
        }
        
        function hideImportStatus() {
            const status = document.getElementById('importStatus');
            status.className = 'import-status';
            status.innerHTML = '';
        }
        
        async function importProduct() {
            const query = document.getElementById('importQuery').value.trim();
            if (!query) {
                showImportStatus('–í–≤–µ–¥–∏—Ç–µ –∞—Ä—Ç–∏–∫—É–ª –∏–ª–∏ URL', 'error');
                return;
            }
            
            showImportStatus('‚è≥ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ç–æ–≤–∞—Ä...', '');
            
            try {
                const response = await fetch('/api/import/snablift', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({query: query})
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showImportStatus(`‚úÖ ${data.message}<br>üì¶ ${data.product.title}`, 'success');
                    setTimeout(() => {
                        closeImportModal();
                        loadProducts();
                    }, 1500);
                } else {
                    showImportStatus(`‚ùå ${data.error}`, 'error');
                }
            } catch (e) {
                showImportStatus(`‚ùå –û—à–∏–±–∫–∞: ${e.message}`, 'error');
            }
        }
        
        function showImportStatus(message, type) {
            const status = document.getElementById('importStatus');
            status.innerHTML = message;
            status.className = 'import-status active' + (type ? ' ' + type : '');
        }
        
        // ========== –ú–ê–°–°–û–í–´–ô –ò–ú–ü–û–†–¢ ==========
        function showBatchImportModal() {
            document.getElementById('batchImportModal').classList.add('active');
            document.getElementById('batchImportList').value = '';
            hideBatchImportStatus();
            document.getElementById('batchImportProgress').style.display = 'none';
            setTimeout(() => document.getElementById('batchImportList').focus(), 100);
        }
        
        function closeBatchImportModal() {
            document.getElementById('batchImportModal').classList.remove('active');
        }
        
        function hideBatchImportStatus() {
            const status = document.getElementById('batchImportStatus');
            status.className = 'import-status';
            status.innerHTML = '';
        }
        
        async function batchImport() {
            const listText = document.getElementById('batchImportList').value.trim();
            if (!listText) {
                showBatchImportStatus('–í–≤–µ–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤', 'error');
                return;
            }
            
            const items = listText.split('\n').map(line => line.trim()).filter(line => line);
            if (items.length === 0) {
                showBatchImportStatus('–°–ø–∏—Å–æ–∫ –ø—É—Å—Ç', 'error');
                return;
            }
            
            hideBatchImportStatus();
            document.getElementById('batchImportProgress').style.display = 'block';
            document.getElementById('progressTotal').textContent = items.length;
            document.getElementById('progressCurrent').textContent = '0';
            document.getElementById('progressFill').style.width = '0%';
            
            try {
                const response = await fetch('/api/import/batch', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({items: items})
                });
                
                const data = await response.json();
                
                if (data.success) {
                    const {imported, failed, skipped} = data.summary;
                    let message = `‚úÖ –ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!<br>`;
                    message += `üì¶ –£—Å–ø–µ—à–Ω–æ: ${imported}<br>`;
                    if (skipped > 0) message += `‚è≠Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–æ: ${skipped}<br>`;
                    if (failed > 0) message += `‚ùå –û—à–∏–±–æ–∫: ${failed}`;
                    
                    showBatchImportStatus(message, imported > 0 ? 'success' : '');
                    
                    document.getElementById('progressCurrent').textContent = items.length;
                    document.getElementById('progressFill').style.width = '100%';
                    
                    setTimeout(() => {
                        closeBatchImportModal();
                        loadProducts();
                    }, 2000);
                } else {
                    showBatchImportStatus(`‚ùå –û—à–∏–±–∫–∞: ${data.error}`, 'error');
                }
            } catch (e) {
                showBatchImportStatus(`‚ùå –û—à–∏–±–∫–∞: ${e.message}`, 'error');
            }
        }
        
        function showBatchImportStatus(message, type) {
            const status = document.getElementById('batchImportStatus');
            status.innerHTML = message;
            status.className = 'import-status active' + (type ? ' ' + type : '');
        }
        
        // ========== –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–ï ==========
        async function editProduct(article) {
            try {
                const response = await fetch(`/api/products/${article}`);
                const data = await response.json();
                
                if (!data.success) {
                    alert(data.error);
                    return;
                }
                
                currentProduct = data.product;
                const stock = data.product.stock || {};
                
                document.getElementById('editArticle').value = data.product.article;
                document.getElementById('editTitle').value = data.product.title;
                document.getElementById('editZone').value = stock.zone || '';
                document.getElementById('editRack').value = stock.rack || '';
                document.getElementById('editShelf').value = stock.shelf || '';
                document.getElementById('editCell').value = stock.cell || '';
                document.getElementById('editActual').value = stock.quantity_actual || 0;
                document.getElementById('editMin').value = stock.quantity_min || 0;
                document.getElementById('editNotes').value = stock.notes || '';
                
                document.getElementById('editModal').classList.add('active');
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞:', e);
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–∞');
            }
        }
        
        function closeEditModal() {
            document.getElementById('editModal').classList.remove('active');
            currentProduct = null;
        }
        
        async function saveProduct() {
            if (!currentProduct) return;
            
            const data = {
                zone: document.getElementById('editZone').value,
                rack: document.getElementById('editRack').value,
                shelf: document.getElementById('editShelf').value,
                cell: document.getElementById('editCell').value,
                quantity_actual: parseInt(document.getElementById('editActual').value) || 0,
                quantity_min: parseInt(document.getElementById('editMin').value) || 0,
                notes: document.getElementById('editNotes').value
            };
            
            try {
                const response = await fetch(`/api/products/${currentProduct.article}/stock`, {
                    method: 'PUT',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify(data)
                });
                
                if (response.ok) {
                    closeEditModal();
                    loadProducts();
                } else {
                    const result = await response.json();
                    alert(result.error || '–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è');
                }
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞:', e);
                alert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è');
            }
        }
        
        // ========== –£–î–ê–õ–ï–ù–ò–ï ==========
        async function deleteProduct(article) {
            if (!confirm(`–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä ${article}?\n\n–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!`)) {
                return;
            }
            
            try {
                const response = await fetch(`/api/products/${article}`, {
                    method: 'DELETE'
                });
                
                if (response.ok) {
                    loadProducts();
                } else {
                    const result = await response.json();
                    alert(result.error || '–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è');
                }
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞:', e);
                alert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è');
            }
        }
        
        // ========== –≠–ö–°–ü–û–†–¢ ==========
        function exportData() {
            window.location.href = '/api/export/json';
        }
        
        // ========== –ó–ê–ö–†–´–¢–ò–ï –ú–û–î–ê–õ–û–ö ==========
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        }
        
        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
        });
    </script>
</body>
</html>
